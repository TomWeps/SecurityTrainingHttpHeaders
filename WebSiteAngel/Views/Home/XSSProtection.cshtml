
@{
    ViewData["Title"] = "XSSProtection";
}

<h1>XSSProtection</h1>
<div>
    @Html.Raw(ViewData["user"])    
</div>

<div onclick="onInit()" id="content">Click to run</div>


@section Scripts
{
<script type="text/javascript">

    function getUriParam(paramName){
      var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == paramName){return pair[1];}
       }
       return null;
    }

    function onInit() {

        var contentElement = document.getElementById('content');
        contentElement.innerHTML = decodeURIComponent(getUriParam('user'));
        return false;
    }


</script>
}

